import{j as e,l as t}from"./index-Dj5MW5Ri.js";import{H as s,F as a}from"./Footer-BBLaL5dE.js";import{r,L as n}from"./react-vendor-BU_GpymC.js";import{s as i,n as l}from"./notifications-D-zVtaEK.js";import{f as o}from"./dateTime-CGLDSyBS.js";import"./x-CqEfdwBo.js";import"./createLucideIcon-BUt5drnH.js";import"./menu-B6j3oIxV.js";const d=({event:t})=>e.jsxs(n,{to:t.link||"#",className:"block bg-white rounded-lg shadow hover:shadow-md transition-shadow duration-200",children:[t.image&&e.jsx("div",{className:"h-40 overflow-hidden rounded-t-lg",children:e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1.5",children:t.title}),"        ",e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[o(t.start_date,t.end_date,!0)," "]}),e.jsx("p",{className:"text-xs text-gray-500",children:t.venue}),e.jsx("p",{className:"text-xs text-gray-500",children:t.region})]})]}),c=()=>{const[s,a]=r.useState([]),[n,l]=r.useState([]),[o,c]=r.useState(!0),[m,x]=r.useState(null);return r.useEffect((()=>{(async()=>{c(!0);try{const{data:e,error:s}=await i.from("events").select("*").order("start_date",{ascending:!0});if(s)return t.error("Error fetching events:",s),void x("Failed to load events. Please try again later.");const r=e?.filter((e=>!e.disabled))||[],n=new Date;n.setHours(0,0,0,0);const o=[],d=[];r.forEach((e=>{const t=new Date(e.start_date);t.setHours(0,0,0,0);const s=e.end_date?new Date(e.end_date):t;s.setHours(0,0,0,0),s>=n?o.push(e):d.push(e)}));const c=o.sort(((e,t)=>new Date(e.start_date).getTime()-new Date(t.start_date).getTime())),m=d.sort(((e,t)=>new Date(t.start_date).getTime()-new Date(e.start_date).getTime()));a(c),l(m)}catch(e){t.error("Unexpected error:",e),x("An unexpected error occurred.")}finally{c(!1)}})()}),[]),o?e.jsx("div",{className:"flex justify-center items-center min-h-[150px]",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):m?e.jsx("div",{className:"text-center text-red-600 p-3",children:m}):e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-12",children:[e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Upcoming Events",s.length>0&&e.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",s.length,")"]})]}),0===s.length?e.jsx("div",{className:"text-center text-gray-600 p-3 bg-gray-50 rounded-lg",children:"No upcoming events at this time."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map((t=>e.jsx(d,{event:t},t.id)))})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Successfully Completed Events",n.length>0&&e.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",n.length,")"]})]}),0===n.length?e.jsx("div",{className:"text-center text-gray-600 p-3 bg-gray-50 rounded-lg",children:"No completed events yet."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((t=>e.jsx(d,{event:t},t.id)))})]})]})},m=()=>e.jsxs("div",{className:"relative w-full bg-cover bg-no-repeat bg-center-bottom pt-[60px] md:pt-[100px] pb-[30px] px-4 md:px-5",style:{backgroundImage:"url('header_back.jpg')"},children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[#9b20643b] z-10"}),e.jsxs("div",{className:"relative z-20 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8 md:gap-0",children:[e.jsx("div",{className:"max-w-xl text-center md:text-left",children:e.jsxs("h1",{className:"text-[28px] md:text-[40px] font-bold text-[#f7f6f6] leading-[1.2] my-8 md:my-24",children:["Start your study in"," ",e.jsx("span",{className:"text-[#3E3664]",children:"Australia"})," ","journey with"," ",e.jsx("span",{className:"text-[#9B2063]",children:"StudyNet!"})]})}),e.jsxs("div",{className:"text-center md:text-right text-white space-y-4",children:[e.jsxs("h3",{className:"text-[18pt] md:text-[22pt] font-normal",children:[e.jsx("span",{className:"font-bold text-[#9B2063]",children:"15+ "}),"year of experience"]}),e.jsxs("h3",{className:"text-[18pt] md:text-[22pt] font-normal",children:[e.jsx("span",{className:"font-bold text-[#672162]",children:"30+ "}),"partner Universities"]}),e.jsxs("h3",{className:"text-[18pt] md:text-[22pt] font-normal",children:[e.jsx("span",{className:"font-bold text-[#3E3664]",children:"99% "}),"visa success rate"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-8",children:[e.jsxs("div",{className:"p-5 rounded-2xl text-white bg-[#9B2063]",children:[e.jsx("h4",{className:"mb-2 font-semibold",children:"Free counselling"}),e.jsx("p",{className:"text-sm opacity-80",children:"FIND out the RIGHT COURSE that is best suited to YOUR PROFILE, BUDGET; PREFERENCES.."})]}),e.jsxs("div",{className:"p-5 rounded-2xl text-white bg-[#672162]",children:[e.jsx("h4",{className:"mb-2 font-semibold",children:"Avail Up to 75% Scholarship"}),e.jsx("p",{className:"text-sm opacity-80",children:"Explore the latest scholarships for international students—study anytime, anywhere, your way: online, part-time, or full-time."})]}),e.jsxs("div",{className:"p-5 rounded-2xl text-white bg-[#3E3664]",children:[e.jsx("h4",{className:"mb-2 font-semibold",children:"Migration Consultation with our MARA Agent"}),e.jsx("p",{className:"text-sm opacity-80",children:"Wherever you are, our expert migration agents are ready to help with all types of visa applications.."})]}),e.jsxs("div",{className:"p-5 rounded-2xl text-white bg-[#282F43]",children:[e.jsx("h4",{className:"mb-2 font-semibold",children:"Get best price on your Health Insurance"}),e.jsx("p",{className:"text-sm opacity-80",children:"Get the best deal on OSHC! Big discounts for international students—single, couple, or family coverage."})]})]})]})]}),x=()=>{const[s,a]=r.useState([]);return r.useEffect((()=>{(async()=>{const{data:e,error:s}=await i.from("universities").select("*");s?t.error("Error fetching universities:",s):a(e||[])})()}),[]),e.jsxs("section",{className:"py-6 md:py-10 px-4 max-w-[1200px] mx-auto",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-semibold text-center mb-6 md:mb-8",children:"Top Universities"}),e.jsx("div",{className:"overflow-hidden w-full",children:e.jsx("div",{className:"flex whitespace-nowrap marquee",children:[...s,...s].map(((t,s)=>e.jsx("div",{className:"w-[150px] md:w-[200px] lg:w-[250px] flex-shrink-0 flex justify-center items-center p-3 md:p-4",children:e.jsx("img",{src:t.src,alt:t.alt,className:"w-full h-auto object-contain",loading:"lazy"})},s)))})})]})};function h(){const[s,a]=r.useState({name:"",email:"",phone:"",eventType:"seminar",message:""}),[n,o]=r.useState(!1),d=e=>{const{name:t,value:s}=e.target;a((e=>({...e,[t]:s})))};return e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{t.info("Submitting form data:",{formData:s});const{data:e,error:r}=await i.from("leads").select("id, name, status").eq("email",s.email).maybeSingle();if(r)throw t.error("Error searching for existing lead:",r),new Error(`Failed to check for existing lead: ${r.message}`);let n;if(e){n=e.id;const{error:a}=await i.from("leads").update({name:s.name,phone:s.phone||null,notes:`Last Event Interest: ${s.eventType}\n\n${s.message}\n\nPrevious notes will be in the message history.`,updated_at:(new Date).toISOString()}).eq("id",n);if(a)throw t.error("Error updating lead:",a),new Error(`Failed to update lead: ${a.message}`);t.info("Lead updated successfully")}else{const{data:e,error:a}=await i.from("leads").insert([{name:s.name,email:s.email,phone:s.phone||null,source:"event_form",status:"new",notes:`Event Type: ${s.eventType}\n\n${s.message}`}]).select().single();if(a)throw t.error("Lead insertion error:",a),new Error(`Failed to create lead: ${a.message}`);n=e.id,t.info("New lead created successfully")}const{error:o}=await i.from("communications").insert([{lead_id:n,direction:"incoming",type:"form",subject:`New Event Interest: ${s.eventType}`,content:s.message||"No additional message provided",status:"sent"}]);if(o)throw t.error("Communication insertion error:",o),new Error(`Failed to create communication record: ${o.message}`);t.info("Communication record created successfully"),l.success("Form submitted successfully!"),a({name:"",email:"",phone:"",eventType:"seminar",message:""})}catch(r){t.error("Form submission error:",r),l.error(r.message||"Failed to submit form. Please try again.")}finally{o(!1)}},className:"max-w-2xl mx-auto bg-white/10 backdrop-blur-md rounded-xl p-4 md:p-6 space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-white mb-1",children:"Name *"}),e.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:s.name,onChange:d,className:"w-full px-3 md:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[#9b1f62] focus:border-transparent text-sm md:text-base",placeholder:"Enter your name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-1",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:s.email,onChange:d,className:"w-full px-3 md:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[#9b1f62] focus:border-transparent text-sm md:text-base",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-white mb-1",children:"Phone"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:d,className:"w-full px-3 md:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[#9b1f62] focus:border-transparent text-sm md:text-base",placeholder:"Enter your phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"eventType",className:"block text-sm font-medium text-white mb-1",children:"Event Type *"}),e.jsxs("select",{id:"eventType",name:"eventType",required:!0,value:s.eventType,onChange:d,className:"w-full px-3 md:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#9b1f62] focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"seminar",children:"Seminar"}),e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"conference",children:"Conference"}),e.jsx("option",{value:"webinar",children:"Webinar"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-white mb-1",children:"Message"}),e.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:d,rows:4,className:"w-full px-3 md:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[#9b1f62] focus:border-transparent text-sm md:text-base",placeholder:"Any additional information or questions?"})]})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full px-4 md:px-6 py-2.5 md:py-3 bg-[#9b1f62] text-white rounded-lg font-medium text-sm md:text-base transition-all duration-200\n        hover:bg-[#8a1b57] focus:outline-none focus:ring-2 focus:ring-[#9b1f62] focus:ring-offset-2 focus:ring-offset-[#3e3764]\n        disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Submitting...":"Submit"})]})}const u=()=>e.jsxs("div",{children:[e.jsx(s,{}),e.jsx(m,{}),e.jsx("div",{className:"bg-gradient-to-r from-[#9b1f62] via-[#682161] to-[#3e3764] py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-8",children:"Register for Upcoming Events"}),e.jsx(h,{})]})}),e.jsx(c,{}),e.jsx(x,{}),e.jsx(a,{})]});export{u as default};
